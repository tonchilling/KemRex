(function(n,t){if(typeof define=="function"&&define.amd)define("/Plugin/menu",["exports","Plugin"],t);else if(typeof exports!="undefined")t(exports,require("Plugin"));else{var i={exports:{}};t(i.exports,n.Plugin);n.PluginMenu=i.exports}})(this,function(n,t){"use strict";var i,r,u;Object.defineProperty(n,"__esModule",{value:!0});n.default=void 0;t=babelHelpers.interopRequireDefault(t);i="menu";r=function(n){function t(){var r,n;babelHelpers.classCallCheck(this,t);for(var u=arguments.length,f=new Array(u),i=0;i<u;i++)f[i]=arguments[i];return n=babelHelpers.possibleConstructorReturn(this,(r=babelHelpers.getPrototypeOf(t)).call.apply(r,[this].concat(f))),n.folded=!0,n.foldAlt=!0,n.outerHeight=0,n}return babelHelpers.inherits(t,n),babelHelpers.createClass(t,[{key:"getName",value:function(){return i}},{key:"render",value:function(){this.bindEvents();this.$el.data("menuApi",this)}},{key:"bindEvents",value:function(){var n=this;this.$el.on("mouseenter.site.menu",".site-menu-item",function(){var t=$(this),i;n.folded===!0&&t.is(".has-sub")&&t.parent(".site-menu").length>0&&(i=t.children(".site-menu-sub"),n.position(t,i));t.addClass("hover")}).on("mouseleave.site.menu",".site-menu-item",function(){var t=$(this);n.folded===!0&&t.is(".has-sub")&&t.parent(".site-menu").length>0&&(t.children(".site-menu-sub").css("max-height",""),t.removeClass("open"));t.removeClass("hover")}).on("deactive.site.menu",".site-menu-item.active",function(n){$(this).removeClass("active");n.stopPropagation()}).on("active.site.menu",".site-menu-item",function(n){$(this).addClass("active");n.stopPropagation()}).on("open.site.menu",".site-menu-item",function(t){var i=$(this);n.expand(i,function(){i.addClass("open")});n.options.accordion&&i.siblings(".open").trigger("close.site.menu");t.stopPropagation()}).on("close.site.menu",".site-menu-item.open",function(t){var i=$(this);n.collapse(i,function(){i.removeClass("open")});t.stopPropagation()}).on("click.site.menu ",".site-menu-item",function(n){var t=$(this);t.is(".has-sub")&&$(n.target).closest(".site-menu-item").is(this)?t.is(".open")?t.trigger("close.site.menu"):t.trigger("open.site.menu"):t.is(".active")||(t.siblings(".active").trigger("deactive.site.menu"),t.trigger("active.site.menu"));n.stopPropagation()}).on("tap.site.menu","> .site-menu-item > a",function(){var n=$(this).attr("href");n&&(window.location=n)}).on("touchend.site.menu","> .site-menu-item > a",function(){var t=$(this).parent(".site-menu-item");n.folded===!0&&t.is(".has-sub")&&t.parent(".site-menu").length>0&&(t.siblings(".hover").removeClass("hover"),t.is(".hover")?t.removeClass("hover"):t.addClass("hover"))}).on("scroll.site.menu",".site-menu-sub",function(n){n.stopPropagation()})}},{key:"collapse",value:function(n,t){var i=this,r=n.children(".site-menu-sub");r.show().slideUp(this.options.speed,function(){$(this).css("display","");$(this).find("> .site-menu-item").removeClass("is-shown");t&&t();i.$el.trigger("collapsed.site.menu")})}},{key:"expand",value:function(n,t){var u=this,i=n.children(".site-menu-sub"),r=i.children(".site-menu-item").addClass("is-hidden");i.hide().slideDown(this.options.speed,function(){$(this).css("display","");t&&t();u.$el.trigger("expanded.site.menu")});setTimeout(function(){r.addClass("is-shown");r.removeClass("is-hidden")},0)}},{key:"refresh",value:function(){this.$el.find(".open").filter(":not(.active)").removeClass("open")}},{key:"position",value:function(n,t){var r=n.find("> a").outerHeight(),u=this.outerHeight,i=n.position().top;t.removeClass("site-menu-sub-up").css("max-height","");i>u/2?(t.addClass("site-menu-sub-up"),this.foldAlt&&(i-=r),t.css("max-height",i+r)):(this.foldAlt&&(i+=r),t.removeClass("site-menu-sub-up"),t.css("max-height",u-i))}}],[{key:"getDefaults",value:function(){return{speed:250,accordion:!0}}}]),t}(t.default);t.default.register(i,r);u=r;n.default=u});